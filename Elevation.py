import requests
import pyproj
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import axes3d, Axes3D
from matplotlib import cm
from matplotlib.ticker import MaxNLocator
import mpl_toolkits.mplot3d.art3d as art3d
from matplotlib.patches import Circle, PathPatch

def convertSPLL(x, y):
    state_plane = pyproj.Proj(init='EPSG:2230', preserve_units=True)
    wgs = pyproj.Proj(proj='latlong', datum='WGS84', ellps='WGS84')
    lng, lat = pyproj.transform(state_plane, wgs, x, y)
    return lat, lng
    
def convertLLSP(lat, long):
    state_plane = pyproj.Proj(init='EPSG:2230', preserve_units=True)
    wgs = pyproj.Proj(proj='latlong', datum='WGS84', ellps='WGS84')
    x, y = pyproj.transform(wgs, state_plane, long, lat)
    return x, y
    
#test = convertSPLL(6231343.12187421, 2006327.035590041)
#test = convertLLSP(33.167624126720625, -117.3294706444691)
#print(test)

elevationPoints_ = [(32.874612, -117.24673200000001, 99.16661834716797), (32.874612, -117.24673200000001, 99.16661834716797), (32.874612, -117.24693200000002, 90.77400207519531), (32.874612, -117.24713200000002, 92.17301940917969), (32.874612, -117.24733200000003, 96.81393432617188), (32.874612, -117.24753200000004, 103.6394195556641), (32.874612, -117.24773200000004, 109.9684448242188), (32.874612, -117.24793200000005, 110.0407257080078), (32.874612, -117.24813200000006, 107.0134124755859), (32.874612, -117.24833200000006, 103.8645248413086), (32.874612, -117.24853200000007, 101.5175170898438), (32.874612, -117.24873200000008, 97.22685241699219), (32.874612, -117.24893200000008, 95.66529083251953), (32.874612, -117.24913200000009, 95.70809173583984), (32.874612, -117.2493320000001, 89.66309356689453), (32.874612, -117.2495320000001, 76.19528198242188), (32.874612, -117.24973200000011, 73.83501434326172), (32.874612, -117.24993200000011, 74.9883804321289), (32.874612, -117.25013200000012, 69.445556640625), (32.874612, -117.25033200000013, 72.28522491455078), (32.874612, -117.25053200000013, 57.6195068359375), (32.874612, -117.25073200000014, 60.47152709960938), (32.874612, -117.25093200000015, 45.19902420043945), (32.874612, -117.25113200000015, 15.81128406524658), (32.874612, -117.25133200000016, 3.02564549446106), (32.874612, -117.25153200000017, 2.336555957794189), (32.874412, -117.24673200000001, 101.9544067382812), (32.874412, -117.24693200000002, 94.06795501708984), (32.874412, -117.24713200000002, 85.43617248535156), (32.874412, -117.24733200000003, 94.29547119140625), (32.874412, -117.24753200000004, 102.0103607177734), (32.874412, -117.24773200000004, 106.7462692260742), (32.874412, -117.24793200000005, 109.1111602783203), (32.874412, -117.24813200000006, 107.2332000732422), (32.874412, -117.24833200000006, 102.7935943603516), (32.874412, -117.24853200000007, 99.33447265625), (32.874412, -117.24873200000008, 95.64714050292969), (32.874412, -117.24893200000008, 90.53804779052734), (32.874412, -117.24913200000009, 90.51483917236328), (32.874412, -117.2493320000001, 91.84194946289062), (32.874412, -117.2495320000001, 77.69898986816406), (32.874412, -117.24973200000011, 63.09439468383789), (32.874412, -117.24993200000011, 54.15336608886719), (32.874412, -117.25013200000012, 54.23064041137695), (32.874412, -117.25033200000013, 61.63296890258789), (32.874412, -117.25053200000013, 51.74211883544922), (32.874412, -117.25073200000014, 44.65608596801758), (32.874412, -117.25093200000015, 41.11718368530273), (32.874412, -117.25113200000015, 24.36470031738281), (32.874412, -117.25133200000016, 5.048076152801514), (32.874412, -117.25153200000017, 2.436063051223755), (32.874212, -117.24673200000001, 99.98053741455078), (32.874212, -117.24693200000002, 92.98785400390625), (32.874212, -117.24713200000002, 84.5743179321289), (32.874212, -117.24733200000003, 92.24402618408203), (32.874212, -117.24753200000004, 97.1810073852539), (32.874212, -117.24773200000004, 103.3212203979492), (32.874212, -117.24793200000005, 104.9857025146484), (32.874212, -117.24813200000006, 103.2842330932617), (32.874212, -117.24833200000006, 102.1665954589844), (32.874212, -117.24853200000007, 99.69571685791016), (32.874212, -117.24873200000008, 96.08386993408203), (32.874212, -117.24893200000008, 86.63229370117188), (32.874212, -117.24913200000009, 78.58808898925781), (32.874212, -117.2493320000001, 88.8601303100586), (32.874212, -117.2495320000001, 85.763427734375), (32.874212, -117.24973200000011, 75.33321380615234), (32.874212, -117.24993200000011, 61.78130340576172), (32.874212, -117.25013200000012, 43.45559310913086), (32.874212, -117.25033200000013, 44.47898101806641), (32.874212, -117.25053200000013, 42.89977264404297), (32.874212, -117.25073200000014, 31.84141731262207), (32.874212, -117.25093200000015, 28.36520385742188), (32.874212, -117.25113200000015, 17.87221336364746), (32.874212, -117.25133200000016, 7.576979637145996), (32.874212, -117.25153200000017, 2.344078063964844), (32.874012, -117.24673200000001, 101.2525100708008), (32.874012, -117.24693200000002, 95.07256317138672), (32.874012, -117.24713200000002, 85.84162139892578), (32.874012, -117.24733200000003, 87.88469696044922), (32.874012, -117.24753200000004, 93.3030014038086), (32.874012, -117.24773200000004, 99.57423400878906), (32.874012, -117.24793200000005, 100.7113342285156), (32.874012, -117.24813200000006, 99.34666442871094), (32.874012, -117.24833200000006, 98.39876556396484), (32.874012, -117.24853200000007, 96.37359619140625), (32.874012, -117.24873200000008, 92.99462127685547), (32.874012, -117.24893200000008, 83.23467254638672), (32.874012, -117.24913200000009, 68.62113189697266), (32.874012, -117.2493320000001, 79.50042724609375), (32.874012, -117.2495320000001, 81.62268829345703), (32.874012, -117.24973200000011, 74.85860443115234), (32.874012, -117.24993200000011, 67.24356079101562), (32.874012, -117.25013200000012, 52.68233108520508), (32.874012, -117.25033200000013, 36.43248748779297), (32.874012, -117.25053200000013, 29.8404369354248), (32.874012, -117.25073200000014, 25.26223182678223), (32.874012, -117.25093200000015, 19.04730415344238), (32.874012, -117.25113200000015, 22.0051326751709), (32.874012, -117.25133200000016, 22.48493003845215), (32.874012, -117.25153200000017, 3.52125096321106), (32.873812, -117.24673200000001, 96.30396270751953), (32.873812, -117.24693200000002, 92.0789794921875), (32.873812, -117.24713200000002, 86.8857192993164), (32.873812, -117.24733200000003, 80.81947326660156), (32.873812, -117.24753200000004, 88.33570098876953), (32.873812, -117.24773200000004, 95.14093780517578), (32.873812, -117.24793200000005, 94.30632781982422), (32.873812, -117.24813200000006, 93.76934814453125), (32.873812, -117.24833200000006, 92.068603515625), (32.873812, -117.24853200000007, 88.31290435791016), (32.873812, -117.24873200000008, 82.89288330078125), (32.873812, -117.24893200000008, 79.39820098876953), (32.873812, -117.24913200000009, 67.70104217529297), (32.873812, -117.2493320000001, 66.46975708007812), (32.873812, -117.2495320000001, 62.04791259765625), (32.873812, -117.24973200000011, 63.80665588378906), (32.873812, -117.24993200000011, 57.08181762695312), (32.873812, -117.25013200000012, 44.31492614746094), (32.873812, -117.25033200000013, 35.74570465087891), (32.873812, -117.25053200000013, 36.97100830078125), (32.873812, -117.25073200000014, 40.30351257324219), (32.873812, -117.25093200000015, 45.94206619262695), (32.873812, -117.25113200000015, 48.07740783691406), (32.873812, -117.25133200000016, 36.63704299926758), (32.873812, -117.25153200000017, 9.259200096130371), (32.873612, -117.24673200000001, 94.28223419189453), (32.873612, -117.24693200000002, 90.62844848632812), (32.873612, -117.24713200000002, 89.34065246582031), (32.873612, -117.24733200000003, 86.05378723144531), (32.873612, -117.24753200000004, 80.459716796875), (32.873612, -117.24773200000004, 87.0728988647461), (32.873612, -117.24793200000005, 87.68956756591797), (32.873612, -117.24813200000006, 89.15253448486328), (32.873612, -117.24833200000006, 85.32917785644531), (32.873612, -117.24853200000007, 81.24347686767578), (32.873612, -117.24873200000008, 75.92292785644531), (32.873612, -117.24893200000008, 68.89959716796875), (32.873612, -117.24913200000009, 62.66857528686523), (32.873612, -117.2493320000001, 55.05118560791016), (32.873612, -117.2495320000001, 48.9725456237793), (32.873612, -117.24973200000011, 47.87797546386719), (32.873612, -117.24993200000011, 43.96255493164062), (32.873612, -117.25013200000012, 43.91852951049805), (32.873612, -117.25033200000013, 51.05255508422852), (32.873612, -117.25053200000013, 57.27383804321289), (32.873612, -117.25073200000014, 60.36576080322266), (32.873612, -117.25093200000015, 64.42166900634766), (32.873612, -117.25113200000015, 64.62378692626953), (32.873612, -117.25133200000016, 50.24138641357422), (32.873612, -117.25153200000017, 16.92133903503418), (32.873412, -117.24673200000001, 102.8502960205078), (32.873412, -117.24693200000002, 101.3265762329102), (32.873412, -117.24713200000002, 94.5718765258789), (32.873412, -117.24733200000003, 88.61283874511719), (32.873412, -117.24753200000004, 81.78034973144531), (32.873412, -117.24773200000004, 75.98351287841797), (32.873412, -117.24793200000005, 81.95127868652344), (32.873412, -117.24813200000006, 81.86199951171875), (32.873412, -117.24833200000006, 79.23833465576172), (32.873412, -117.24853200000007, 74.1712417602539), (32.873412, -117.24873200000008, 69.95469665527344), (32.873412, -117.24893200000008, 69.59671783447266), (32.873412, -117.24913200000009, 72.13864135742188), (32.873412, -117.2493320000001, 69.30931091308594), (32.873412, -117.2495320000001, 64.23013305664062), (32.873412, -117.24973200000011, 58.71631240844727), (32.873412, -117.24993200000011, 57.99650573730469), (32.873412, -117.25013200000012, 59.26781845092773), (32.873412, -117.25033200000013, 64.5525894165039), (32.873412, -117.25053200000013, 70.45919036865234), (32.873412, -117.25073200000014, 74.23875427246094), (32.873412, -117.25093200000015, 74.88948059082031), (32.873412, -117.25113200000015, 69.64189910888672), (32.873412, -117.25133200000016, 54.40856552124023), (32.873412, -117.25153200000017, 32.79001235961914), (32.873212, -117.24673200000001, 111.5255661010742), (32.873212, -117.24693200000002, 108.5661392211914), (32.873212, -117.24713200000002, 101.3161163330078), (32.873212, -117.24733200000003, 94.02174377441406), (32.873212, -117.24753200000004, 87.81970977783203), (32.873212, -117.24773200000004, 83.3777084350586), (32.873212, -117.24793200000005, 77.30217742919922), (32.873212, -117.24813200000006, 72.57251739501953), (32.873212, -117.24833200000006, 71.04266357421875), (32.873212, -117.24853200000007, 78.43655395507812), (32.873212, -117.24873200000008, 83.76786041259766), (32.873212, -117.24893200000008, 88.76718139648438), (32.873212, -117.24913200000009, 92.80522155761719), (32.873212, -117.2493320000001, 88.3111572265625), (32.873212, -117.2495320000001, 81.7961654663086), (32.873212, -117.24973200000011, 77.08125305175781), (32.873212, -117.24993200000011, 73.24293518066406), (32.873212, -117.25013200000012, 74.1590805053711), (32.873212, -117.25033200000013, 76.88866424560547), (32.873212, -117.25053200000013, 83.30827331542969), (32.873212, -117.25073200000014, 81.37547302246094), (32.873212, -117.25093200000015, 75.93710327148438), (32.873212, -117.25113200000015, 60.38332366943359), (32.873212, -117.25133200000016, 52.77024841308594), (32.873212, -117.25153200000017, 45.65802001953125), (32.873012, -117.24673200000001, 114.1299285888672), (32.873012, -117.24693200000002, 110.7732696533203), (32.873012, -117.24713200000002, 105.2800903320312), (32.873012, -117.24733200000003, 101.9268569946289), (32.873012, -117.24753200000004, 98.49896240234375), (32.873012, -117.24773200000004, 93.39128112792969), (32.873012, -117.24793200000005, 90.47682189941406), (32.873012, -117.24813200000006, 86.59866333007812), (32.873012, -117.24833200000006, 86.1880874633789), (32.873012, -117.24853200000007, 93.44285583496094), (32.873012, -117.24873200000008, 98.85372161865234), (32.873012, -117.24893200000008, 104.429557800293), (32.873012, -117.24913200000009, 105.7968063354492), (32.873012, -117.2493320000001, 102.1796951293945), (32.873012, -117.2495320000001, 96.92548370361328), (32.873012, -117.24973200000011, 90.25016784667969), (32.873012, -117.24993200000011, 89.73668670654297), (32.873012, -117.25013200000012, 89.37435150146484), (32.873012, -117.25033200000013, 89.06002807617188), (32.873012, -117.25053200000013, 88.57099151611328), (32.873012, -117.25073200000014, 86.947021484375), (32.873012, -117.25093200000015, 81.23985290527344), (32.873012, -117.25113200000015, 67.24685668945312), (32.873012, -117.25133200000016, 56.36204147338867), (32.873012, -117.25153200000017, 46.63543319702148), (32.872812, -117.24673200000001, 114.3269729614258), (32.872812, -117.24693200000002, 112.9611968994141), (32.872812, -117.24713200000002, 110.7423324584961), (32.872812, -117.24733200000003, 109.6016006469727), (32.872812, -117.24753200000004, 106.722297668457), (32.872812, -117.24773200000004, 103.6233520507812), (32.872812, -117.24793200000005, 98.77387237548828), (32.872812, -117.24813200000006, 94.73748779296875), (32.872812, -117.24833200000006, 96.37562561035156), (32.872812, -117.24853200000007, 103.5626831054688), (32.872812, -117.24873200000008, 109.7493591308594), (32.872812, -117.24893200000008, 111.0148239135742), (32.872812, -117.24913200000009, 109.4382858276367), (32.872812, -117.2493320000001, 107.3554306030273), (32.872812, -117.2495320000001, 104.7343826293945), (32.872812, -117.24973200000011, 101.8982315063477), (32.872812, -117.24993200000011, 99.53857421875), (32.872812, -117.25013200000012, 96.96540832519531), (32.872812, -117.25033200000013, 93.76512145996094), (32.872812, -117.25053200000013, 89.60630798339844), (32.872812, -117.25073200000014, 87.044677734375), (32.872812, -117.25093200000015, 81.53382110595703), (32.872812, -117.25113200000015, 72.33799743652344), (32.872812, -117.25133200000016, 60.91112899780273), (32.872812, -117.25153200000017, 44.4266242980957), (32.872612000000004, -117.24673200000001, 114.8060684204102), (32.872612000000004, -117.24693200000002, 114.1354141235352), (32.872612000000004, -117.24713200000002, 113.297607421875), (32.872612000000004, -117.24733200000003, 113.1166076660156), (32.872612000000004, -117.24753200000004, 111.9637756347656), (32.872612000000004, -117.24773200000004, 108.1022720336914), (32.872612000000004, -117.24793200000005, 102.2443389892578), (32.872612000000004, -117.24813200000006, 103.9422988891602), (32.872612000000004, -117.24833200000006, 105.4930953979492), (32.872612000000004, -117.24853200000007, 110.1527328491211), (32.872612000000004, -117.24873200000008, 111.4790954589844), (32.872612000000004, -117.24893200000008, 111.0133514404297), (32.872612000000004, -117.24913200000009, 109.0799560546875), (32.872612000000004, -117.2493320000001, 107.1533813476562), (32.872612000000004, -117.2495320000001, 106.4717025756836), (32.872612000000004, -117.24973200000011, 103.8900146484375), (32.872612000000004, -117.24993200000011, 99.93661499023438), (32.872612000000004, -117.25013200000012, 97.65043640136719), (32.872612000000004, -117.25033200000013, 93.61679077148438), (32.872612000000004, -117.25053200000013, 90.12711334228516), (32.872612000000004, -117.25073200000014, 87.41561126708984), (32.872612000000004, -117.25093200000015, 85.19742584228516), (32.872612000000004, -117.25113200000015, 78.47154235839844), (32.872612000000004, -117.25133200000016, 65.10717010498047), (32.872612000000004, -117.25153200000017, 48.306640625), (32.872412000000004, -117.24673200000001, 115.3637084960938), (32.872412000000004, -117.24693200000002, 114.4098358154297), (32.872412000000004, -117.24713200000002, 113.9055633544922), (32.872412000000004, -117.24733200000003, 113.5486068725586), (32.872412000000004, -117.24753200000004, 112.5042953491211), (32.872412000000004, -117.24773200000004, 109.7169723510742), (32.872412000000004, -117.24793200000005, 108.407470703125), (32.872412000000004, -117.24813200000006, 109.5651473999023), (32.872412000000004, -117.24833200000006, 110.8836135864258), (32.872412000000004, -117.24853200000007, 110.6926422119141), (32.872412000000004, -117.24873200000008, 109.5255508422852), (32.872412000000004, -117.24893200000008, 108.7021484375), (32.872412000000004, -117.24913200000009, 107.2903900146484), (32.872412000000004, -117.2493320000001, 106.4798126220703), (32.872412000000004, -117.2495320000001, 105.7550964355469), (32.872412000000004, -117.24973200000011, 104.4464492797852), (32.872412000000004, -117.24993200000011, 101.5680847167969), (32.872412000000004, -117.25013200000012, 97.65016174316406), (32.872412000000004, -117.25033200000013, 93.70935821533203), (32.872412000000004, -117.25053200000013, 90.88648223876953), (32.872412000000004, -117.25073200000014, 87.39694213867188), (32.872412000000004, -117.25093200000015, 84.65644836425781), (32.872412000000004, -117.25113200000015, 81.34397888183594), (32.872412000000004, -117.25133200000016, 77.76346588134766), (32.872412000000004, -117.25153200000017, 57.5235481262207), (32.872212000000005, -117.24673200000001, 115.9597778320312), (32.872212000000005, -117.24693200000002, 115.4401473999023), (32.872212000000005, -117.24713200000002, 115.0867004394531), (32.872212000000005, -117.24733200000003, 113.6184616088867), (32.872212000000005, -117.24753200000004, 112.8871459960938), (32.872212000000005, -117.24773200000004, 112.282600402832), (32.872212000000005, -117.24793200000005, 112.2371978759766), (32.872212000000005, -117.24813200000006, 111.4898071289062), (32.872212000000005, -117.24833200000006, 111.1149291992188), (32.872212000000005, -117.24853200000007, 109.7867813110352), (32.872212000000005, -117.24873200000008, 108.8214340209961), (32.872212000000005, -117.24893200000008, 108.4178237915039), (32.872212000000005, -117.24913200000009, 107.3714370727539), (32.872212000000005, -117.2493320000001, 106.5912094116211), (32.872212000000005, -117.2495320000001, 105.4261322021484), (32.872212000000005, -117.24973200000011, 104.5327301025391), (32.872212000000005, -117.24993200000011, 100.2428665161133), (32.872212000000005, -117.25013200000012, 98.00767517089844), (32.872212000000005, -117.25033200000013, 93.72119140625), (32.872212000000005, -117.25053200000013, 90.51604461669922), (32.872212000000005, -117.25073200000014, 86.86104583740234), (32.872212000000005, -117.25093200000015, 83.54474639892578), (32.872212000000005, -117.25113200000015, 81.79962158203125), (32.872212000000005, -117.25133200000016, 78.50809478759766), (32.872212000000005, -117.25153200000017, 69.84905242919922), (32.872012000000005, -117.24673200000001, 116.4785995483398), (32.872012000000005, -117.24693200000002, 116.4350814819336), (32.872012000000005, -117.24713200000002, 115.6490325927734), (32.872012000000005, -117.24733200000003, 114.6015853881836), (32.872012000000005, -117.24753200000004, 114.1631774902344), (32.872012000000005, -117.24773200000004, 113.3399429321289), (32.872012000000005, -117.24793200000005, 112.5569305419922), (32.872012000000005, -117.24813200000006, 111.1697540283203), (32.872012000000005, -117.24833200000006, 110.6793212890625), (32.872012000000005, -117.24853200000007, 109.9851303100586), (32.872012000000005, -117.24873200000008, 109.2027740478516), (32.872012000000005, -117.24893200000008, 108.9411926269531), (32.872012000000005, -117.24913200000009, 107.838005065918), (32.872012000000005, -117.2493320000001, 106.7571563720703), (32.872012000000005, -117.2495320000001, 104.776725769043), (32.872012000000005, -117.24973200000011, 104.8800430297852), (32.872012000000005, -117.24993200000011, 99.75536346435547), (32.872012000000005, -117.25013200000012, 99.15191650390625), (32.872012000000005, -117.25033200000013, 95.70401763916016), (32.872012000000005, -117.25053200000013, 92.54595184326172), (32.872012000000005, -117.25073200000014, 87.15892028808594), (32.872012000000005, -117.25093200000015, 82.9365234375), (32.872012000000005, -117.25113200000015, 80.87843322753906), (32.872012000000005, -117.25133200000016, 76.50127410888672), (32.872012000000005, -117.25153200000017, 74.9583969116211), (32.871812000000006, -117.24673200000001, 116.8983459472656), (32.871812000000006, -117.24693200000002, 116.6249084472656), (32.871812000000006, -117.24713200000002, 116.1944122314453), (32.871812000000006, -117.24733200000003, 115.3271789550781), (32.871812000000006, -117.24753200000004, 114.7874221801758), (32.871812000000006, -117.24773200000004, 113.879280090332), (32.871812000000006, -117.24793200000005, 113.6715316772461), (32.871812000000006, -117.24813200000006, 112.2317276000977), (32.871812000000006, -117.24833200000006, 111.6822509765625), (32.871812000000006, -117.24853200000007, 110.2851409912109), (32.871812000000006, -117.24873200000008, 109.5622787475586), (32.871812000000006, -117.24893200000008, 108.8568115234375), (32.871812000000006, -117.24913200000009, 107.750602722168), (32.871812000000006, -117.2493320000001, 106.3334655761719), (32.871812000000006, -117.2495320000001, 105.5656661987305), (32.871812000000006, -117.24973200000011, 104.708251953125), (32.871812000000006, -117.24993200000011, 102.0017623901367), (32.871812000000006, -117.25013200000012, 99.75389862060547), (32.871812000000006, -117.25033200000013, 94.39266967773438), (32.871812000000006, -117.25053200000013, 91.69086456298828), (32.871812000000006, -117.25073200000014, 86.32559204101562), (32.871812000000006, -117.25093200000015, 84.20833587646484), (32.871812000000006, -117.25113200000015, 80.65874481201172), (32.871812000000006, -117.25133200000016, 76.89122772216797), (32.871812000000006, -117.25153200000017, 74.37408447265625), (32.871612000000006, -117.24673200000001, 117.2373809814453), (32.871612000000006, -117.24693200000002, 116.8891296386719), (32.871612000000006, -117.24713200000002, 116.0851898193359), (32.871612000000006, -117.24733200000003, 115.1787872314453), (32.871612000000006, -117.24753200000004, 114.7715606689453), (32.871612000000006, -117.24773200000004, 114.047492980957), (32.871612000000006, -117.24793200000005, 113.3743667602539), (32.871612000000006, -117.24813200000006, 111.9998016357422), (32.871612000000006, -117.24833200000006, 111.2078704833984), (32.871612000000006, -117.24853200000007, 110.100341796875), (32.871612000000006, -117.24873200000008, 109.6994781494141), (32.871612000000006, -117.24893200000008, 109.0654830932617), (32.871612000000006, -117.24913200000009, 108.6666717529297), (32.871612000000006, -117.2493320000001, 106.9069213867188), (32.871612000000006, -117.2495320000001, 106.0416641235352), (32.871612000000006, -117.24973200000011, 104.5415420532227), (32.871612000000006, -117.24993200000011, 101.5886840820312), (32.871612000000006, -117.25013200000012, 98.79846954345703), (32.871612000000006, -117.25033200000013, 93.92315673828125), (32.871612000000006, -117.25053200000013, 92.35706329345703), (32.871612000000006, -117.25073200000014, 86.49468994140625), (32.871612000000006, -117.25093200000015, 84.5459976196289), (32.871612000000006, -117.25113200000015, 79.46614074707031), (32.871612000000006, -117.25133200000016, 77.28093719482422), (32.871612000000006, -117.25153200000017, 74.65455627441406), (32.87141200000001, -117.24673200000001, 117.5001373291016), (32.87141200000001, -117.24693200000002, 116.6991806030273), (32.87141200000001, -117.24713200000002, 116.2248916625977), (32.87141200000001, -117.24733200000003, 115.9825820922852), (32.87141200000001, -117.24753200000004, 115.4782333374023), (32.87141200000001, -117.24773200000004, 114.1275100708008), (32.87141200000001, -117.24793200000005, 113.4937057495117), (32.87141200000001, -117.24813200000006, 112.8107757568359), (32.87141200000001, -117.24833200000006, 111.6192855834961), (32.87141200000001, -117.24853200000007, 110.2119445800781), (32.87141200000001, -117.24873200000008, 108.8726501464844), (32.87141200000001, -117.24893200000008, 108.3251419067383), (32.87141200000001, -117.24913200000009, 107.7681121826172), (32.87141200000001, -117.2493320000001, 107.4707565307617), (32.87141200000001, -117.2495320000001, 106.0532073974609), (32.87141200000001, -117.24973200000011, 103.7071380615234), (32.87141200000001, -117.24993200000011, 101.1322555541992), (32.87141200000001, -117.25013200000012, 97.85896301269531), (32.87141200000001, -117.25033200000013, 94.34048461914062), (32.87141200000001, -117.25053200000013, 90.76334381103516), (32.87141200000001, -117.25073200000014, 87.51734161376953), (32.87141200000001, -117.25093200000015, 83.2252426147461), (32.87141200000001, -117.25113200000015, 78.3717041015625), (32.87141200000001, -117.25133200000016, 74.76445007324219), (32.87141200000001, -117.25153200000017, 69.40068817138672), (32.87121200000001, -117.24673200000001, 117.7070617675781), (32.87121200000001, -117.24693200000002, 117.4544219970703), (32.87121200000001, -117.24713200000002, 117.0972900390625), (32.87121200000001, -117.24733200000003, 116.506103515625), (32.87121200000001, -117.24753200000004, 115.3795623779297), (32.87121200000001, -117.24773200000004, 114.9856262207031), (32.87121200000001, -117.24793200000005, 113.6318817138672), (32.87121200000001, -117.24813200000006, 112.8990478515625), (32.87121200000001, -117.24833200000006, 111.830924987793), (32.87121200000001, -117.24853200000007, 110.2192077636719), (32.87121200000001, -117.24873200000008, 109.0082855224609), (32.87121200000001, -117.24893200000008, 107.9396286010742), (32.87121200000001, -117.24913200000009, 107.0407867431641), (32.87121200000001, -117.2493320000001, 106.3251419067383), (32.87121200000001, -117.2495320000001, 105.2578887939453), (32.87121200000001, -117.24973200000011, 104.169563293457), (32.87121200000001, -117.24993200000011, 101.3944473266602), (32.87121200000001, -117.25013200000012, 97.50128173828125), (32.87121200000001, -117.25033200000013, 93.34073638916016), (32.87121200000001, -117.25053200000013, 88.5338363647461), (32.87121200000001, -117.25073200000014, 83.91445922851562), (32.87121200000001, -117.25093200000015, 80.36292266845703), (32.87121200000001, -117.25113200000015, 76.87709045410156), (32.87121200000001, -117.25133200000016, 72.6147232055664), (32.87121200000001, -117.25153200000017, 71.27996063232422), (32.87101200000001, -117.24673200000001, 118.0526657104492), (32.87101200000001, -117.24693200000002, 117.8566818237305), (32.87101200000001, -117.24713200000002, 117.8962783813477), (32.87101200000001, -117.24733200000003, 117.571662902832), (32.87101200000001, -117.24753200000004, 116.8664398193359), (32.87101200000001, -117.24773200000004, 115.0954513549805), (32.87101200000001, -117.24793200000005, 114.928955078125), (32.87101200000001, -117.24813200000006, 112.8941879272461), (32.87101200000001, -117.24833200000006, 111.4927825927734), (32.87101200000001, -117.24853200000007, 109.9736862182617), (32.87101200000001, -117.24873200000008, 109.2731628417969), (32.87101200000001, -117.24893200000008, 108.274787902832), (32.87101200000001, -117.24913200000009, 107.2839813232422), (32.87101200000001, -117.2493320000001, 106.0961608886719), (32.87101200000001, -117.2495320000001, 104.9669342041016), (32.87101200000001, -117.24973200000011, 103.8319396972656), (32.87101200000001, -117.24993200000011, 100.4948806762695), (32.87101200000001, -117.25013200000012, 95.73218536376953), (32.87101200000001, -117.25033200000013, 86.67182159423828), (32.87101200000001, -117.25053200000013, 80.30624389648438), (32.87101200000001, -117.25073200000014, 78.00933074951172), (32.87101200000001, -117.25093200000015, 76.47528839111328), (32.87101200000001, -117.25113200000015, 74.81256103515625), (32.87101200000001, -117.25133200000016, 74.06702423095703), (32.87101200000001, -117.25153200000017, 73.23151397705078), (32.87081200000001, -117.24673200000001, 118.0227584838867), (32.87081200000001, -117.24693200000002, 118.0972442626953), (32.87081200000001, -117.24713200000002, 118.0917129516602), (32.87081200000001, -117.24733200000003, 118.0672912597656), (32.87081200000001, -117.24753200000004, 117.411865234375), (32.87081200000001, -117.24773200000004, 116.6602172851562), (32.87081200000001, -117.24793200000005, 114.6276016235352), (32.87081200000001, -117.24813200000006, 112.9587860107422), (32.87081200000001, -117.24833200000006, 111.5155487060547), (32.87081200000001, -117.24853200000007, 110.5719680786133), (32.87081200000001, -117.24873200000008, 109.6799087524414), (32.87081200000001, -117.24893200000008, 108.8557205200195), (32.87081200000001, -117.24913200000009, 107.4715576171875), (32.87081200000001, -117.2493320000001, 106.1403350830078), (32.87081200000001, -117.2495320000001, 105.074089050293), (32.87081200000001, -117.24973200000011, 103.0521926879883), (32.87081200000001, -117.24993200000011, 99.67980194091797), (32.87081200000001, -117.25013200000012, 90.20970916748047), (32.87081200000001, -117.25033200000013, 82.57649230957031), (32.87081200000001, -117.25053200000013, 83.3250732421875), (32.87081200000001, -117.25073200000014, 85.16365814208984), (32.87081200000001, -117.25093200000015, 82.43995666503906), (32.87081200000001, -117.25113200000015, 79.0986557006836), (32.87081200000001, -117.25133200000016, 72.6065902709961), (32.87081200000001, -117.25153200000017, 72.20951843261719), (32.87061200000001, -117.24673200000001, 119.0000991821289), (32.87061200000001, -117.24693200000002, 119.3814849853516), (32.87061200000001, -117.24713200000002, 118.6353302001953), (32.87061200000001, -117.24733200000003, 118.2564468383789), (32.87061200000001, -117.24753200000004, 117.9116821289062), (32.87061200000001, -117.24773200000004, 116.8140487670898), (32.87061200000001, -117.24793200000005, 114.5808715820312), (32.87061200000001, -117.24813200000006, 113.7721405029297), (32.87061200000001, -117.24833200000006, 111.2902145385742), (32.87061200000001, -117.24853200000007, 110.6455383300781), (32.87061200000001, -117.24873200000008, 109.6562576293945), (32.87061200000001, -117.24893200000008, 108.7692718505859), (32.87061200000001, -117.24913200000009, 107.508903503418), (32.87061200000001, -117.2493320000001, 106.0350799560547), (32.87061200000001, -117.2495320000001, 104.0216674804688), (32.87061200000001, -117.24973200000011, 100.5975952148438), (32.87061200000001, -117.24993200000011, 95.61109161376953), (32.87061200000001, -117.25013200000012, 86.31117248535156), (32.87061200000001, -117.25033200000013, 84.69157409667969), (32.87061200000001, -117.25053200000013, 87.93549346923828), (32.87061200000001, -117.25073200000014, 84.20528411865234), (32.87061200000001, -117.25093200000015, 80.65104675292969), (32.87061200000001, -117.25113200000015, 77.53562927246094), (32.87061200000001, -117.25133200000016, 74.6053466796875), (32.87061200000001, -117.25153200000017, 70.45018768310547), (32.87041200000001, -117.24673200000001, 119.5102462768555), (32.87041200000001, -117.24693200000002, 119.6983032226562), (32.87041200000001, -117.24713200000002, 119.9791946411133), (32.87041200000001, -117.24733200000003, 118.5687484741211), (32.87041200000001, -117.24753200000004, 117.8796310424805), (32.87041200000001, -117.24773200000004, 117.3905944824219), (32.87041200000001, -117.24793200000005, 115.9626617431641), (32.87041200000001, -117.24813200000006, 113.5929107666016), (32.87041200000001, -117.24833200000006, 111.2490005493164), (32.87041200000001, -117.24853200000007, 111.0292739868164), (32.87041200000001, -117.24873200000008, 109.2713928222656), (32.87041200000001, -117.24893200000008, 108.0670852661133), (32.87041200000001, -117.24913200000009, 106.6081695556641), (32.87041200000001, -117.2493320000001, 104.8066101074219), (32.87041200000001, -117.2495320000001, 101.0930862426758), (32.87041200000001, -117.24973200000011, 97.40448760986328), (32.87041200000001, -117.24993200000011, 90.23600769042969), (32.87041200000001, -117.25013200000012, 86.98519134521484), (32.87041200000001, -117.25033200000013, 89.25616455078125), (32.87041200000001, -117.25053200000013, 86.36753845214844), (32.87041200000001, -117.25073200000014, 83.00624084472656), (32.87041200000001, -117.25093200000015, 78.91084289550781), (32.87041200000001, -117.25113200000015, 74.80742645263672), (32.87041200000001, -117.25133200000016, 71.74584197998047), (32.87041200000001, -117.25153200000017, 68.81305694580078), (32.87021200000001, -117.24673200000001, 119.4871139526367), (32.87021200000001, -117.24693200000002, 119.7277069091797), (32.87021200000001, -117.24713200000002, 120.4798278808594), (32.87021200000001, -117.24733200000003, 118.9523620605469), (32.87021200000001, -117.24753200000004, 117.7931289672852), (32.87021200000001, -117.24773200000004, 117.4877777099609), (32.87021200000001, -117.24793200000005, 116.4202575683594), (32.87021200000001, -117.24813200000006, 113.1492538452148), (32.87021200000001, -117.24833200000006, 111.6733093261719), (32.87021200000001, -117.24853200000007, 110.9084167480469), (32.87021200000001, -117.24873200000008, 109.439079284668), (32.87021200000001, -117.24893200000008, 107.4151840209961), (32.87021200000001, -117.24913200000009, 104.8287887573242), (32.87021200000001, -117.2493320000001, 102.3999176025391), (32.87021200000001, -117.2495320000001, 99.3709716796875), (32.87021200000001, -117.24973200000011, 94.3339614868164), (32.87021200000001, -117.24993200000011, 89.82303619384766), (32.87021200000001, -117.25013200000012, 86.63494110107422), (32.87021200000001, -117.25033200000013, 84.76799774169922), (32.87021200000001, -117.25053200000013, 84.65514373779297), (32.87021200000001, -117.25073200000014, 81.42206573486328), (32.87021200000001, -117.25093200000015, 77.97613525390625), (32.87021200000001, -117.25113200000015, 73.58766174316406), (32.87021200000001, -117.25133200000016, 69.7323989868164), (32.87021200000001, -117.25153200000017, 67.27340698242188), (32.87001200000001, -117.24673200000001, 119.0973739624023), (32.87001200000001, -117.24693200000002, 119.2209396362305), (32.87001200000001, -117.24713200000002, 119.8976974487305), (32.87001200000001, -117.24733200000003, 119.2916488647461), (32.87001200000001, -117.24753200000004, 118.146842956543), (32.87001200000001, -117.24773200000004, 117.7195816040039), (32.87001200000001, -117.24793200000005, 115.9035110473633), (32.87001200000001, -117.24813200000006, 113.0445861816406), (32.87001200000001, -117.24833200000006, 112.3510894775391), (32.87001200000001, -117.24853200000007, 110.3172149658203), (32.87001200000001, -117.24873200000008, 109.1685104370117), (32.87001200000001, -117.24893200000008, 106.9584197998047), (32.87001200000001, -117.24913200000009, 104.0032272338867), (32.87001200000001, -117.2493320000001, 101.4385070800781), (32.87001200000001, -117.2495320000001, 99.13834381103516), (32.87001200000001, -117.24973200000011, 93.00077819824219), (32.87001200000001, -117.24993200000011, 91.5986557006836), (32.87001200000001, -117.25013200000012, 82.13898468017578), (32.87001200000001, -117.25033200000013, 78.95413970947266), (32.87001200000001, -117.25053200000013, 78.721923828125), (32.87001200000001, -117.25073200000014, 76.62264251708984), (32.87001200000001, -117.25093200000015, 74.01321411132812), (32.87001200000001, -117.25113200000015, 71.14862823486328), (32.87001200000001, -117.25133200000016, 68.21735382080078), (32.87001200000001, -117.25153200000017, 65.83493041992188), (32.86981200000001, -117.24673200000001, 118.8483276367188), (32.86981200000001, -117.24693200000002, 118.5161361694336), (32.86981200000001, -117.24713200000002, 119.0247192382812), (32.86981200000001, -117.24733200000003, 118.8191452026367), (32.86981200000001, -117.24753200000004, 117.7895278930664), (32.86981200000001, -117.24773200000004, 117.4879379272461), (32.86981200000001, -117.24793200000005, 115.0530166625977), (32.86981200000001, -117.24813200000006, 113.2113418579102), (32.86981200000001, -117.24833200000006, 111.5841979980469), (32.86981200000001, -117.24853200000007, 109.91845703125), (32.86981200000001, -117.24873200000008, 108.7946090698242), (32.86981200000001, -117.24893200000008, 107.1392822265625), (32.86981200000001, -117.24913200000009, 104.6084823608398), (32.86981200000001, -117.2493320000001, 102.2281723022461), (32.86981200000001, -117.2495320000001, 98.35034942626953), (32.86981200000001, -117.24973200000011, 94.45487976074219), (32.86981200000001, -117.24993200000011, 91.90919494628906), (32.86981200000001, -117.25013200000012, 81.39189147949219), (32.86981200000001, -117.25033200000013, 76.02098083496094), (32.86981200000001, -117.25053200000013, 68.05255126953125), (32.86981200000001, -117.25073200000014, 67.95965576171875), (32.86981200000001, -117.25093200000015, 67.87042236328125), (32.86981200000001, -117.25113200000015, 66.43084716796875), (32.86981200000001, -117.25133200000016, 65.7897720336914), (32.86981200000001, -117.25153200000017, 64.51127624511719)]
elevationPoints = []

for point in elevationPoints_:
        sp = convertLLSP(point[0], point[1])
        elevationPoints.append((sp[0], sp[1], point[2] * 3.2808399))

googleBox = [(33.074657, -117.207794, 148.2841796875), (33.074657, -117.207794, 148.2841796875), (33.074657, -117.20799600000001, 147.4058227539062), (33.074657, -117.20819800000001, 147.7142791748047), (33.074657, -117.20840000000001, 146.1806335449219), (33.074657, -117.20860200000001, 142.0865325927734), (33.0745384, -117.207794, 147.398681640625), (33.0745384, -117.20799600000001, 146.9870300292969), (33.0745384, -117.20819800000001, 146.7901611328125), (33.0745384, -117.20840000000001, 145.4457702636719), (33.0745384, -117.20860200000001, 141.5194244384766), (33.0744198, -117.207794, 146.5807495117188), (33.0744198, -117.20799600000001, 146.2197875976562), (33.0744198, -117.20819800000001, 144.9052124023438), (33.0744198, -117.20840000000001, 143.4487609863281), (33.0744198, -117.20860200000001, 140.8649291992188), (33.0743012, -117.207794, 145.7697448730469), (33.0743012, -117.20799600000001, 144.6278228759766), (33.0743012, -117.20819800000001, 143.2326507568359), (33.0743012, -117.20840000000001, 142.426025390625), (33.0743012, -117.20860200000001, 141.0009155273438), (33.0741826, -117.207794, 144.79541015625), (33.0741826, -117.20799600000001, 143.2988433837891), (33.0741826, -117.20819800000001, 143.0630035400391), (33.0741826, -117.20840000000001, 142.8155212402344), (33.0741826, -117.20860200000001, 141.0392150878906)]
MSDNBox = [(33.074657, -117.207794, 150), (33.074657, -117.207794, 150), (33.074657, -117.20799600000001, 148), (33.074657, -117.20819800000001, 147), (33.074657, -117.20840000000001, 145), (33.074657, -117.20860200000001, 142), (33.0745384, -117.207794, 149), (33.0745384, -117.20799600000001, 148), (33.0745384, -117.20819800000001, 146), (33.0745384, -117.20840000000001, 145), (33.0745384, -117.20860200000001, 142), (33.0744198, -117.207794, 149), (33.0744198, -117.20799600000001, 147), (33.0744198, -117.20819800000001, 146), (33.0744198, -117.20840000000001, 144), (33.0744198, -117.20860200000001, 142), (33.0743012, -117.207794, 148), (33.0743012, -117.20799600000001, 147), (33.0743012, -117.20819800000001, 145), (33.0743012, -117.20840000000001, 144), (33.0743012, -117.20860200000001, 142), (33.0741826, -117.207794, 148), (33.0741826, -117.20799600000001, 146), (33.0741826, -117.20819800000001, 145), (33.0741826, -117.20840000000001, 143), (33.0741826, -117.20860200000001, 141)]

def Plot3DTriSurf(points):
    fig = plt.figure()
    ax = fig.gca(projection='3d')
    x = []
    y = []
    z = []
    
    for coord in points:
        x.append(coord[0])
        y.append(coord[1])
        z.append(coord[2] * 3)
        
        
    ax.plot_trisurf(x, y, z, linewidth=0.2)
    plt.show()
    
#Plot3DTriSurf(elevationPoints)

def Plot3DSurface(points):
    Xs, Ys, Zs = [], [], []
    
    for i in points:
        Xs.append(i[0])
        Ys.append(i[1])
        Zs.append(i[2])
    
    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')
    
    surf = ax.plot_trisurf(Xs, Ys, Zs, cmap=cm.jet, linewidth=0)
    fig.colorbar(surf)
    
    ax.xaxis.set_major_locator(MaxNLocator(5))
    ax.yaxis.set_major_locator(MaxNLocator(6))
    ax.zaxis.set_major_locator(MaxNLocator(5))
    
    fig.tight_layout()
            
    plt.show()
    
def Plot3DSurfaceWithPatch(points):
    Xs, Ys, Zs = [], [], []
    
    for i in points:
        Xs.append(i[0])
        Ys.append(i[1])
        Zs.append(i[2])
    
    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')
    
    surf = ax.plot_trisurf(Xs, Ys, Zs, cmap=cm.jet, linewidth=0)
    fig.colorbar(surf)
    
    p = Circle((Xs[0], Ys[0]), 100)
    ax.add_patch(p)
    art3d.pathpatch_2d_to_3d(p, z=Zs[0], zdir="z")
    
    ax.xaxis.set_major_locator(MaxNLocator(5))
    ax.yaxis.set_major_locator(MaxNLocator(6))
    ax.zaxis.set_major_locator(MaxNLocator(5))
    
    fig.tight_layout()
            
    plt.show()    
    
def Plot3DScatter(points):
    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')
    
    for coord in points:
        ax.scatter(coord[0], coord[1], coord[2])
        
    plt.show()

#Plot3DScatter(googleBox)
#Plot3DSurface(elevationPoints)
#Plot3DSurfaceWithPatch(elevationPoints)

def Plot3DScatterSP(points):
    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')
    
    for coord in points:
        ax.scatter(convertLLSP(coord[0], coord[1])[0], convertLLSP(coord[0], coord[1])[1], coord[2])
        
    plt.show()
    
#Plot3DScatterSP(googleBox)

#MSDN ELevation

def getElevationMSDN(lat, long):
    url = "http://dev.virtualearth.net/REST/v1/Elevation/List?points={},{}&heights=sealevel&key=ArQtm6kQdSgBJtGk63wfJiu7iR7lVwUzBeoXH6dlipaiGc-KNGLsnRpWNUwVbtqa".format(lat, long)
    r = requests.get(url)
    elevation = r.json()['resourceSets'][0]['resources'][0]['elevations'][0]
    return elevation
    
#getElevationMSDN(33.074065, -117.207147)

def getElevationMSDNBox(lat1, long1, lat2, long2, rows, cols):
    url = "http://dev.virtualearth.net/REST/v1/Elevation/Bounds?bounds={},{},{},{}&rows={}&cols={}&heights=sealevel&key=ArQtm6kQdSgBJtGk63wfJiu7iR7lVwUzBeoXH6dlipaiGc-KNGLsnRpWNUwVbtqa".format(lat1, long1, lat2, long2, rows, cols)
    r = requests.get(url)
    elevations = r.json()['resourceSets'][0]['resources'][0]['elevations']
    return elevations
    
#getElevationMSDNBox(33.074064, -117.207794, 33.074657, -117.206784, 5, 6)

def getElevationMSDNBoxManual(lat1, long1, lat2, long2, rows, cols):
    incrementX = (lat1-lat2)/cols
    incrementY = abs((long1-long2)/rows)
    
    x = lat1
    y = long1
    
    points = [(x, y, getElevationMSDN(x, y))]
              
    for i in range(rows):
        for j in range(cols):
            points.append((x, y, getElevationMSDN(x, y)))
            y = y - incrementY
        
        x = x - incrementX
        y = long1
    
    Plot3DScatter(points)

#getElevationMSDNBoxManual(33.074657, -117.207794, 33.074064, -117.206784, 15, 15)

#2500 per day
def getElevationGoogle(lat, long):
    url = "https://maps.googleapis.com/maps/api/elevation/json?locations={},{}&key=AIzaSyAJjZHwOgecHkrJ3d13FytDWHCQCTYvaM8".format(lat, long)
    r = requests.get(url)
    elevation = r.json()['results'][0]['elevation']
    return elevation
    
#getElevationGoogle(33.074065, -117.207147)

def getElevationGoogleBox(lat1, long1, lat2, long2, rows, cols):
    incrementX = abs((lat1-lat2)/cols)
    incrementY = abs((long1-long2)/rows)
    
    x = lat1
    y = long1
    
    points = []
              
    for i in range(rows):
        for j in range(cols):
            points.append((x, y, getElevationGoogle(x, y)))
            y = y - incrementY
        
        x = x - incrementX
        y = long1
    
    #Plot3DScatter(points)
    return points
    
#getElevationGoogleBox(32.872112 + 0.0015, -117.249232 + 0.0015, 32.872112 - 0.0015, -117.249232 - 0.0015, 25, 25))
#print(getElevationGoogleBox(32.872112 + 0.0025, -117.249232 + 0.0025, 32.872112 - 0.0025, -117.249232 - 0.0025, 25, 25)) 
    
def getElevationGoogleBoxSP(spx1, spy1, spx2, spy2, rows, cols):
    incrementX = abs((spx1-spx2)/cols)
    incrementY = abs((spy1-spy2)/rows)
    
    x = spx1
    y = spy1
    
    points = [(x, y, getElevationGoogle(convertSPLL(x, y)[0], convertSPLL(x, y)[1]))]
    
    for i in range(rows):
        for j in range(cols):
            points.append((x, y, getElevationGoogle(convertSPLL(x, y)[0], convertSPLL(x, y)[1])))
            y = y - incrementY
        
        x = x - incrementX
        y = long1
    
    Plot3DScatter(points)